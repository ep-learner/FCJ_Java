# 简介

JVM运行时各种函数的调用和执行顺序；

这里介绍了构造函数和静态代码块；其中构造函数部分解释了继承时的调用顺序。

[参考：构造函数详解](https://blog.csdn.net/qq_33642117/article/details/51909346)

# 构造函数

构造函数的作用：当new一个对象的时候，调用构造函数完成**对象的初始化**，完成一些成员变量赋初值之类的操作，所有类都有一个**默认的无参构造函数**。

特性：

- **没有返回值**
- **函数名和类名相同**
- JVM会自动在创建对象的时候调用

你可以近似看成是满足上述几个特性的特殊的方法；

# 继承时的构造函数调用

假设child继承了parent类；

child：

```java
public class child extends parent {
    public child(String s,Integer i){
        super(s);//如果没有这句话，就是默认调用父类无参构造函数
        System.out.println("子类构造函数");
    }
}
```

parent：

```java
public class parent {
    protected parent(String s ){
        System.out.println("父类构造函数");
    }
}
```

main：

```java
public static void main(String[] args) {
	child c1 = new child("1",2);
    //输出结果
    //父类构造函数
    //子类构造函数
}
```



明确几点：

- 父类没有写无参构造函数，且写了有参构造函数，那么就**有且仅有**这么一个**带参**构造函数了；
- 子类创建对象时，**会先调用父类的构造函数**，默认的构造函数是无参的，但是此时父类仅有一个有参的构造函数了，那么只能调用带一个String的构造函数；
- 子类很皮，写了一个参数和父类不太一样的构造函数（多了Integer），那么正常情况是会报错的，因为找不到参数一致的父类构造函数。所以需要加上`super(s)`，手动调用父类构造函数。

# 静态代码块

这个在JVM中运行的**运行优先级是最高**的，只要创建了一个类的实例，那么静态代码块的内容就会被调用。

看上去和构造函数有什么区别？把静态代码块的内容写在构造函数里面不也可以吗，为什么要多此一举再来个静态代码块？

因为构造函数可以重载，假如有个**需求**是**针对这个类**的，要求无论调用哪个构造函数创建实例，都得执行这个需求。当然可以在每个构造函数里面都把这个需求实现一遍，但显然造成代码重复，所以就需要静态代码块了。

**静态代码块是把构造函数里面的公共部分取出来构成的**